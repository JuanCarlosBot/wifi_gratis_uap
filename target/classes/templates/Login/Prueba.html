<!DOCTYPE html>
<html>
<head>
    <title>Validación y Redirección</title>
</head>
<body>
    <input type="text" id="usuario" placeholder="Usuario" value="31027">
    <input type="password" id="clave" placeholder="Contraseña" value="31027n0uS2">
    <button onclick="enviarDatos()">Enviar</button>

    <script>
        
        function enviarDatos() {
            // Obtener valores de los campos de entrada
            var usuario = document.getElementById('usuario').value;
            var clave = document.getElementById('clave').value;
        
            // Crear un objeto JSON con los datos
            var data = { usuario: usuario, clave: clave };
        
            // Convertir el objeto JSON a una cadena
            var jsonData = JSON.stringify(data);
        
            // URL de CORS Anywhere
            var corsAnywhereUrl = 'https://cors-anywhere.herokuapp.com/';
        
            // URL de la API externa
            var apiUrl = 'http://181.115.188.250:9993/v1/service/api/3e958d74203b465abf8ee8b253cce422';
        
            // Crear una instancia de XMLHttpRequest
            var xhr = new XMLHttpRequest();
            xhr.open('POST', apiUrl, true);
        
            // Configurar el encabezado personalizado (key y value)
            xhr.setRequestHeader('x-api-key', 'key e73b1991c59a67fe182524e4d12da556136ced8a9da310c3af4c4efbde804a10');
            xhr.setRequestHeader('Content-Type', 'application/json');
        
            // Configurar el controlador de eventos para manejar la respuesta
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        // Éxito: redirigir al usuario a la página de Google
                        window.location.href = 'https://www.google.com';
                    } else {
                        // Manejar errores aquí
                        alert('Error en la solicitud: ' + xhr.status);
                    }
                }
            };
        
            // Enviar la solicitud POST con los datos JSON
            xhr.send(jsonData);
        }
    </script>

    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Request</title>
</head>
<body>
    <h1>API Request Example</h1>
    <button onclick="makeApiRequest()">Hacer solicitud a la API</button>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function makeApiRequest() {
            // URL de la API
            const apiUrl = 'http://181.115.188.250:9993/v1/service/api/3e958d74203b465abf8ee8b253cce422';

            // Datos del usuario y clave en formato JSON
            const userData = {
                usuario: 'tu_usuario',
                clave: 'tu_clave'
            };

            // Encabezados personalizados con la clave y el valor
            const headers = {
                'Key': 'tu_key',
                'Clave': 'tu_clave'
            };

            // Realizar la solicitud POST a la API
            axios.post(apiUrl, userData, { headers })
                .then(response => {
                    console.log('Respuesta de la API:', response.data);
                    // Aquí puedes manejar la respuesta de la API como desees
                })
                .catch(error => {
                    console.error('Error en la solicitud:', error);
                    // Manejar el error de la solicitud aquí
                });
        }
    </script>
</body>
</html>
</body>
</html>